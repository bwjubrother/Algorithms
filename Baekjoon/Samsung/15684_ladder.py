import sys
sys.stdin = open('15684.txt', 'r')

n, m, h = map(int, input().split())
ladder = [list(map(int, input().split() for _ in range(m)]

# cnt > 3 and impossible , print(-1)
